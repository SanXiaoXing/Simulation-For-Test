
## 🎯 **Prompt：生成电子战接口特征仿真软件（Python/PyQt5 前端）**

请根据以下需求，生成一个完整的电子战接口特征仿真软件，其中包含：

* **Python PyQt5 前端界面**
* **通信接口（UDP / 本地共享内存 / TCP 任意其一）**
* **可配置的初始参数**
* **动态输出 EW 信号数据结构**
* **完整代码框架（可以直接运行）**
* **模拟敌方雷达、导弹威胁、通信拦截、电子干扰、环境电磁态势**

---

# 1. ▶ **系统需求**

你需要实现一个 **电子战接口特征仿真系统（Electronic Warfare Interface Feature Simulator）**，其功能包含：

### **1. 雷达警告（RWR）仿真**

* 检测敌方雷达辐射
* 输出雷达类型、方位、频率、功率、SNR、PRI、脉宽 PW
* 能模拟搜索/跟踪/火控等不同雷达

### **2. 导弹威胁仿真**

* 提供导弹发射预警
* 逼近角、预计命中时间
* 红外 / 雷达制导类别

### **3. 通信拦截（COMINT）仿真**

* 模拟敌方通信频率
* 判断调制方式（AM/FM/QPSK/QAM 等）
* 输出信号功率 & SNR

### **4. 电子干扰（ECM）效果仿真**

* 创建干扰场景：噪声压制、欺骗干扰、断续干扰等
* 输出干扰后敌雷达有效性衰退指标

### **5. 自身电磁辐射（Ownship EM Emission）**

* 自身雷达/通信状态
* 辐射功率
* 可被敌方探测的风险指标

### **6. 环境电磁情报（ELINT/EOB）**

* 周围所有辐射源
* 雷达活动频段 & 密度
* 环境噪声值

---

# 2. ▶ **仿真输出数据结构（必须实现）**

请严格输出以下结构体格式：

```c
typedef struct
{
    uint32_t source_id;      // 来源 ID
    SignalType type;         // SIG_RADAR / SIG_COMM / SIG_JAM
    uint64_t timestamp_ms;   // UNIX 时间戳 ms
    double center_freq_hz;   // 中心频率 Hz
    double bandwidth_hz;     // 带宽 Hz
    float signal_power_dbm;  // 信号功率 dBm
    float snr_db;            // 信噪比 dB
    float azimuth_deg;       // 方位角
    float elevation_deg;     // 俯仰角
    float range_m;           // 距离（-1 表示未知）
    float pri_ms;            // 脉冲重复间隔 ms（雷达专用）
    float pulse_width_us;    // 脉宽 us（雷达专用）
    Modulation modulation;   // 调制方式（枚举）
} EW_Signal;
```

---

# 3. ▶ **需要生成的仿真初始值（请自动生成具体数字）**

请为以下对象生成**合理的默认初始数据表**（用于 GUI 选择 & 仿真初始化）：

### **雷达库（10 个典型雷达）**

包含：

* 类型
* 中心频率
* 带宽
* PRI 范围
* PW 范围
* 功率
* 预设方位、距离

### **导弹库（5 个典型型号）**

包含：

* IR / RF 制导类型
* 初速度
* 逼近轨迹
* 最大探测距离

### **通信信号库（8 种典型信号）**

包含：

* AM、FM、PSK、QPSK、QAM、OFDM等
* 带宽
* 调制方式
* 信号功率范围
* SNR 范围

### **干扰模式（5 种）**

例如：

* Noise Jammer
* Deception Jammer
* DRFM Jammer
* Spot / Sweep Jammer

---

# 4. ▶ **Python PyQt5 GUI 要求**

界面必须包含：

### **A. 参数显示窗口**

* 实时显示雷达、通信、干扰、导弹的仿真输出
* 使用 QTableWidget 动态刷新

### **B. 波形/频谱显示（可选）**

* 使用 pyqtgraph 进行实时波形呈现

### **C. 参数控制窗口**

* 选择雷达源
* 选择干扰模式
* 控制是否开启导弹威胁
* 修改功率、频率、噪声、SNR 等动态参数

### **D. 启动仿真 / 停止仿真按钮**

---

# 5. ▶ **仿真逻辑示例（请在代码中实现）**

仿真必须具有：

### **动态变化**

* 雷达方位角随时间变化（如 0.5° 每帧）
* 距离逐渐增加或减少
* 通信信号 SNR 波动
* 干扰开启后信号功率上升、SNR 降低

### **随机扰动**

* 时序抖动 ±5%
* 功率波动 ±1 dB
* 频率抖动 ±0.1%

---

# 6. ▶ **数据输出方式**

### **UDP 输出（推荐）**

配置：

* 发送：

  * IP: `127.0.0.1`
  * Port: `50000`
* 数据格式：

  * JSON 或二进制结构（请全部给出）

---

# 7. ▶ **最终需要生成的内容**

### ✔ Python + PyQt5 GUI

* 完整可运行代码
* 参数界面
* 动态刷新表格
* 曲线显示（使用 pyqtgraph）
* UDP 接收线程

### ✔ 示例输出数据（以 JSON 和二进制两种格式）

---

# 8. ▶ **最终格式要求**

以上全部内容必须使用：

* 专业 EW 工程术语
* 清晰模块化结构
* 代码可直接运行
* 注释详细
* 尽量接近真实军用电子战系统接口风格
