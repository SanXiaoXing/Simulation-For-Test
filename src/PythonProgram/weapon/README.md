
# ✅ **最终版 Prompt：武器外挂接口特征模拟器（Python + PyQt5）**

请基于以下功能需求，使用 **Python + PyQt5** 开发一个完整的 “武器外挂接口特征模拟器仿真软件”。
软件必须包含界面、仿真逻辑、可配置初始值、模块化结构、可扩展性，以及完整的代码工程结构。

---

## **【核心功能需求】**

1. **建立武器外挂接口特征仿真模型**

   * 建模飞机武器外挂子系统特征
   * 包含挂架、弹射器、引信、武器状态、电气接口、机械-电气同步逻辑
   * 支持初始化参数可配置（质量、载荷、引信灵敏度、挂架电气接口、气动特性等）

2. **支持武器系统集成验证**

   * 验证外挂系统与飞控、火控、导航接口兼容性
   * 模拟武器总线协议（MIL-STD-1553B、CAN、UDP 二进制帧）
   * 电气特性、数据格式解析
   * 验证挂架/弹射器机械—电气同步（载荷传感器、锁定状态、分离状态）
   * 多武器协同释放逻辑（包含集束武器的时序控制）

3. **支持作战效能仿真推演**

   * 多目标攻击时的武器投放策略
   * GPS/INS 复合制导（JDAM）模型（简化即可）
   * 隐身（内置弹舱）与外挂模式气动差异评估
   * 引信抗干扰能力评估（激光近炸引信误触发概率）

4. **支持飞行员战术训练**

   * 虚拟武器挂载/卸载流程
   * 模拟 AIM-120 挂架解锁等操作
   * 不同气象条件下武器投放流程
   * 人机界面响应时间模拟（≤50ms 延迟）
   * 训练结果记录与评分

5. **支持故障诊断与系统健壮性测试**

   * 总线通信中断、比特错误率注入（1553B）
   * 挂架过载保护触发
   * 弹射器故障、机械备份释放
   * 故障事件记录与回放

6. **支持新型武器适配验证**

   * 高超音速武器热防护兼容性（温度场仿真）
   * 协同武器释放接口的数据链延时补偿
   * 激光武器电源系统功率匹配（电源预算计算）

---

## **【附加功能需求】**

7. **仿真数据接口配置**

   * 所有外设/总线输入数据可从 UI 调整
   * 仿真源可选择：内部生成 / 外部 UDP / 配置文件 / ICD

8. **接口带宽配置**

   * 为每个通信接口（1553、CAN、UDP）提供带宽参数设置
   * 允许限制发送速率、每帧大小、刷新频率

9. **带宽占用率监控**

   * 显示每个接口实时带宽占用曲线
   * 显示丢包率、比特错误率、总线负载统计图表

10. **ICD 导入功能**

* 从 XML / JSON / YAML 导入 ICD（Interface Control Document）
* 自动生成对应协议解析器
* UI 中能够展示字段定义与报文解析结果

---

## **【UI 设计要求】**

使用 PyQt5 创建多标签页界面，包括：

### **① 主面板（实时状态监控）**

* 飞机 → 挂架 → 武器拓扑结构（树状结构）
* 实时显示挂架载荷、锁定状态、电气状态
* 武器姿态、状态、温度、引信、气动模式等参数

### **② 武器释放控制面板**

* 手动/自动/协同释放
* 释放时序显示
* 事件日志展示

### **③ 作战效能仿真面板**

* 显示攻击场景、目标数
* 命中概率、引信抗干扰统计图
* 气动影响曲线

### **④ 故障注入与诊断面板**

* 1553B 比特错误率
* 挂架过载
* 弹射器故障
* 故障回放功能

### **⑤ 训练模式面板**

* 作业步骤指引
* 实时评分
* 历史训练记录导出

### **⑥ 网络/总线监控面板**

* 总线报文（表格）
* 带宽占用率图表（matplotlib）
* 丢包率统计
* 报文解析（ICD 映射）

### **⑦ 系统配置面板**

* 初始化参数（武器、挂架、引信、气象、飞机姿态…）
* 场景保存/加载
* ICD 导入
* 数据源选择（内部 / 外部 UDP / 1553 仿真）

---

## **【技术架构要求】**

* 使用模块化架构：

```
sim_core/           # 仿真内核（武器/挂架/气动/热/总线/引信）
protocols/          # 协议栈（1553/CAN/UDP）+ ICD 解析器
ui/                 # PyQt5 UI
configs/            # 初始化场景、ICD 文件
logs/               # 日志输出
```

* 使用线程或 asyncio 保证仿真实时性
* 数据通过信号-slot 推送到 UI
* 带宽曲线使用 matplotlib（单独线程绘图）

---

## **【输出要求】**

你需要生成：

* 完整的 Python 项目结构
* 全部模块的可运行代码（含 main.py）
* PyQt5 UI 与逻辑代码
* 协议解析框架（含可扩展 ICD 解析器）
* 初始配置文件（YAML/JSON）
* 示例 ICD
* 示例武器/挂架参数
* 示例仿真场景
* 故障注入示例
* 带宽监控图表
* 训练模式逻辑
* 完整 README（运行说明 + 依赖）

软件必须能运行，展示所有界面与主要流程。

---

# 🔥 **最终交付形式（你需要生成）**

一个 **可运行的 Python + PyQt5 武器外挂接口特征模拟器项目完整源码**，满足所有功能模块要求并可运行演示。
